<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¯¸í™” í’ˆëª© ì œì¶œ ì‹œìŠ¤í…œ (ìŠ¤í¬ë¦°ìƒ· ê³µìœ )</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ë¯¸í™” í’ˆëª© ì œì¶œ ì‹œìŠ¤í…œ</h1>
            <p>ì œì¶œ í›„ í™”ë©´ì„ ìº¡ì²˜í•´ì„œ ë‹¨í†¡ë°©ì— ì˜¬ë ¤ì£¼ì„¸ìš”!</p>
        </header>

        <div id="formSection">
            <!-- ê¸°ë³¸ í¼ -->
            <form id="itemForm">
                <div class="form-group">
                    <label for="name">ì‹ ì²­ì ì´ë¦„:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="department">ë¶€ì„œ/íŒ€:</label>
                    <input type="text" id="department" name="department" required>
                </div>
                
                <div class="items-section">
                    <h3>í•„ìš”í•œ í’ˆëª©</h3>
                    <div class="item-row">
                        <label for="envelope">ë´‰íˆ¬:</label>
                        <input type="number" id="envelope" name="envelope" min="0" value="0" class="quantity-input">
                        <span class="unit">ê°œ</span>
                    </div>
                    <div class="item-row">
                        <label for="rag">ê±¸ë ˆ:</label>
                        <input type="number" id="rag" name="rag" min="0" value="0" class="quantity-input">
                        <span class="unit">ê°œ</span>
                    </div>
                    <div class="item-row">
                        <label for="bleach">ë½ìŠ¤:</label>
                        <input type="number" id="bleach" name="bleach" min="0" value="0" class="quantity-input">
                        <span class="unit">ë³‘</span>
                    </div>
                    <div class="item-row">
                        <label for="detergent">ì„¸ì œ:</label>
                        <input type="number" id="detergent" name="detergent" min="0" value="0" class="quantity-input">
                        <span class="unit">ë³‘</span>
                    </div>
                    <div class="item-row">
                        <label for="tissue">íœ´ì§€:</label>
                        <input type="number" id="tissue" name="tissue" min="0" value="0" class="quantity-input">
                        <span class="unit">ë¡¤</span>
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn btn-primary">ì œì¶œí•˜ê¸°</button>
                    <button type="button" class="btn btn-secondary" onclick="resetForm()">ë‹¤ì‹œ ì‘ì„±</button>
                </div>
            </form>
        </div>

        <!-- ì œì¶œ ì™„ë£Œ í™”ë©´ (ìŠ¤í¬ë¦°ìƒ·ìš©) -->
        <div id="resultSection" class="hidden" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
            <div style="text-align: center;">
                <h2>ğŸ‰ ì œì¶œ ì™„ë£Œ!</h2>
                <div id="submissionCard" style="background: white; color: #333; padding: 25px; border-radius: 12px; margin: 20px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    <h3 style="color: #4CAF50; margin-bottom: 15px;">ğŸ“‹ ë¯¸í™” í’ˆëª© ì‹ ì²­ì„œ</h3>
                    <div id="submissionDetails" style="text-align: left; font-size: 18px; line-height: 1.8;"></div>
                    <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 2px dashed #eee;">
                        <small style="color: #666;">ğŸ“± ì´ í™”ë©´ì„ ìº¡ì²˜í•´ì„œ ë‹¨í†¡ë°©ì— ì˜¬ë ¤ì£¼ì„¸ìš”!</small>
                    </div>
                </div>
                
                <div class="button-group" style="margin-top: 25px;">
                    <button type="button" class="btn btn-primary" onclick="captureAndShare()" style="background: #fff; color: #667eea; border: 2px solid #fff;">ğŸ“¸ ìº¡ì²˜í•˜ê³  ê³µìœ </button>
                    <button type="button" class="btn btn-secondary" onclick="newSubmission()" style="background: transparent; border: 2px solid #fff;">ìƒˆ ì‹ ì²­</button>
                    <button type="button" class="btn btn-secondary" onclick="showAllSubmissions()" style="background: transparent; border: 2px solid #fff;">ì „ì²´ ë³´ê¸°</button>
                </div>
            </div>
        </div>

        <!-- ì „ì²´ í˜„í™© (ë‹¨í†¡ë°© ìŠ¤í¬ë¦°ìƒ·ë“¤ì„ ë³´ê³  ìˆ˜ë™ ì…ë ¥) -->
        <div id="allSection" class="hidden">
            <h2>ğŸ“Š ì „ì²´ ì‹ ì²­ í˜„í™©</h2>
            <p style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                ğŸ’¡ <strong>ì‚¬ìš©ë²•:</strong> ë‹¨í†¡ë°©ì— ì˜¬ë¼ì˜¨ ìŠ¤í¬ë¦°ìƒ·ë“¤ì„ ë³´ê³  ì•„ë˜ì— ì •ë¦¬í•´ì£¼ì„¸ìš”!
            </p>
            
            <div class="form-group">
                <label>ğŸ“ ì‹ ì²­ ë‚´ì—­ ì •ë¦¬:</label>
                <textarea id="manualSummary" rows="10" placeholder="ì˜ˆì‹œ:
ê¹€ì˜í¬ (ì²­ì†ŒíŒ€) - ê±¸ë ˆ 5ê°œ, ë½ìŠ¤ 2ë³‘
ë°•ìˆœì (ê´€ë¦¬íŒ€) - ë´‰íˆ¬ 10ê°œ, ì„¸ì œ 3ë³‘
ì´ë¯¸ìˆœ (ì²­ì†ŒíŒ€) - íœ´ì§€ 4ë¡¤, ê±¸ë ˆ 3ê°œ

ì´ í•„ìš”:
- ê±¸ë ˆ: 8ê°œ
- ë½ìŠ¤: 2ë³‘
- ë´‰íˆ¬: 10ê°œ
- ì„¸ì œ: 3ë³‘
- íœ´ì§€: 4ë¡¤" style="font-family: inherit; font-size: 16px;"></textarea>
            </div>
            
            <div class="button-group">
                <button type="button" class="btn btn-print" onclick="printSummary()">ğŸ“„ ì •ë¦¬ë³¸ ì¸ì‡„</button>
                <button type="button" class="btn btn-secondary" onclick="newSubmission()">ìƒˆ ì‹ ì²­</button>
            </div>
        </div>
    </div>

    <script>
        const ITEM_INFO = {
            envelope: 'ë´‰íˆ¬',
            rag: 'ê±¸ë ˆ',
            bleach: 'ë½ìŠ¤',
            detergent: 'ì„¸ì œ',
            tissue: 'íœ´ì§€'
        };

        let currentSubmission = null;

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('itemForm').addEventListener('submit', handleSubmit);
        });

        function handleSubmit(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData);
            
            // ê²€ì¦
            if (!data.name.trim() || !data.department.trim()) {
                alert('ì´ë¦„ê³¼ ë¶€ì„œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const hasItems = Object.keys(ITEM_INFO).some(key => parseInt(data[key]) > 0);
            if (!hasItems) {
                alert('ìµœì†Œ í•˜ë‚˜ì˜ í’ˆëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            currentSubmission = {
                ...data,
                timestamp: new Date().toLocaleString('ko-KR'),
                date: new Date().toLocaleDateString('ko-KR')
            };
            
            showResult();
        }

        function showResult() {
            hideAllSections();
            document.getElementById('resultSection').classList.remove('hidden');
            
            const items = [];
            Object.keys(ITEM_INFO).forEach(key => {
                if (parseInt(currentSubmission[key]) > 0) {
                    items.push(`${ITEM_INFO[key]} ${currentSubmission[key]}ê°œ`);
                }
            });
            
            document.getElementById('submissionDetails').innerHTML = `
                <div style="margin-bottom: 12px;">
                    <strong>ğŸ‘¤ ì‹ ì²­ì:</strong> ${currentSubmission.name}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>ğŸ¢ ë¶€ì„œ:</strong> ${currentSubmission.department}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>ğŸ“… ì‹ ì²­ì¼:</strong> ${currentSubmission.date}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>ğŸ“¦ ì‹ ì²­ í’ˆëª©:</strong><br>
                    ${items.map(item => `&nbsp;&nbsp;â€¢ ${item}`).join('<br>')}
                </div>
                <div style="font-size: 14px; color: #666;">
                    <strong>â° ì œì¶œì‹œê°„:</strong> ${currentSubmission.timestamp}
                </div>
            `;
        }

        function captureAndShare() {
            // ëª¨ë°”ì¼ì—ì„œ ìŠ¤í¬ë¦°ìƒ· ì•ˆë‚´
            if (navigator.share) {
                alert('ğŸ“± ìŠ¤í¬ë¦°ìƒ·ì„ ì°ìœ¼ì„¸ìš”!\n\n1. ì „ì› ë²„íŠ¼ + ë³¼ë¥¨ ë‹¤ìš´ ë²„íŠ¼ ë™ì‹œì— ëˆ„ë¥´ê¸°\n2. ìº¡ì²˜ëœ ì´ë¯¸ì§€ë¥¼ ë‹¨í†¡ë°©ì— ì˜¬ë¦¬ê¸°');
            } else {
                alert('ğŸ“± í™”ë©´ì„ ìº¡ì²˜í•´ì„œ ë‹¨í†¡ë°©ì— ê³µìœ í•´ì£¼ì„¸ìš”!');
            }
        }

        function hideAllSections() {
            document.getElementById('formSection').style.display = 'none';
            document.getElementById('resultSection').classList.add('hidden');
            document.getElementById('allSection').classList.add('hidden');
        }

        function newSubmission() {
            hideAllSections();
            document.getElementById('formSection').style.display = 'block';
            resetForm();
        }

        function showAllSubmissions() {
            hideAllSections();
            document.getElementById('allSection').classList.remove('hidden');
        }

        function resetForm() {
            document.getElementById('itemForm').reset();
            currentSubmission = null;
        }

        function printSummary() {
            const content = document.getElementById('manualSummary').value;
            if (!content.trim()) {
                alert('ì •ë¦¬í•  ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                <head>
                    <title>ë¯¸í™” í’ˆëª© ì‹ ì²­ ì •ë¦¬ë³¸</title>
                    <style>
                        body { font-family: 'Malgun Gothic', sans-serif; padding: 20px; }
                        h1 { color: #4CAF50; }
                        pre { white-space: pre-wrap; font-family: inherit; font-size: 16px; line-height: 1.6; }
                    </style>
                </head>
                <body>
                    <h1>ğŸ“‹ ë¯¸í™” í’ˆëª© ì‹ ì²­ ì •ë¦¬ë³¸</h1>
                    <p><strong>ì •ë¦¬ ì¼ì‹œ:</strong> ${new Date().toLocaleString('ko-KR')}</p>
                    <hr>
                    <pre>${content}</pre>
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }
    </script>
</body>
</html>